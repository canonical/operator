- Use absolute paths in subprocesses to prevent security issues. [See more](https://documentation.ubuntu.com/ops/latest/howto/run-workloads-with-a-charm-machines/)
- Execute processes directly rather than via the shell. [See more](https://documentation.ubuntu.com/ops/latest/howto/run-workloads-with-a-charm-machines/)
- Name the repository using the pattern ``<charm name>-operator`` for a single charm, or ``<base charm name>-operators`` when the repository will hold multiple related charms. For the charm name, see {external+charmcraft:ref}`Charmcraft | Specify a name <specify-a-name>`. [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- Set the [`requires-python`](https://packaging.python.org/en/latest/specifications/pyproject-toml/#requires-python) version in your `pyproject.toml` so that tooling will detect any use of Python features not available in the versions you support. [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- When using the `charm` plugin with charmcraft, ensure that you set strict dependencies to true. For example: [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- Ensure that tooling is configured to automatically detect new versions, particularly security releases, for all your dependencies. [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- Ensure that the `pyproject.toml` *and* the lock file are committed to version control, so that exact versions of charms can be reproduced. [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- The quality assurance pipeline of a charm should be automated using a continuous integration (CI) system. [See more](https://documentation.ubuntu.com/ops/latest/howto/write-and-structure-charm-code/)
- Capture output to `stdout` and `stderr` in your charm and use the logging and warning functionality to send messages to the charm user, rather than rely on Juju capturing output.  In particular, you should avoid `print()` calls, and ensure that any subprocess calls capture output. [See more](https://documentation.ubuntu.com/ops/latest/howto/log-from-your-charm/)
- Do not build log strings yourself: allow the logger to do this for you as required. That is: [See more](https://documentation.ubuntu.com/ops/latest/howto/log-from-your-charm/)
- Ensure that log messages are clear, meaningful, and provide enough information for the user to troubleshoot any issues. Avoid spurious logging. For instance, try not to log when event handlers are called, as the Juju controller does this automatically. [See more](https://documentation.ubuntu.com/ops/latest/howto/log-from-your-charm/)
- Never log credentials or other sensitive information. [See more](https://documentation.ubuntu.com/ops/latest/howto/log-from-your-charm/)
- All charms should provide the commands configured by the Charmcraft profile, to allow easy testing across the charm ecosystem. It's fine to tweak the configuration of individual tools, or to add additional commands, but keep the command names and meanings that the profile provides. [See more](https://documentation.ubuntu.com/ops/latest/howto/manage-charms/)
- The quality assurance pipeline of a charm should be automated using a continuous integration (CI) system. [See more](https://documentation.ubuntu.com/ops/latest/howto/manage-charms/)
- Libraries should never mutate the status of a unit or application. Instead, use return values, or raise exceptions and let them bubble back up to the charm for the charm author to handle as they see fit. [See more](https://documentation.ubuntu.com/ops/latest/howto/manage-libraries/)
- If you're setting up a ``git`` repository: name it using the pattern ``<charm name>-operator``. For the charm name, see :ref:`specify-a-name`. [See more](https://documentation.ubuntu.com/charmcraft/stable/howto/manage-charms/)
- Smaller charm documentation examples: [See more](https://documentation.ubuntu.com/charmcraft/stable/howto/manage-charms/)
- Bigger charm documentation examples: [See more](https://documentation.ubuntu.com/charmcraft/stable/howto/manage-charms/)
- For resources that are binary files, provide binaries for all the CPU architectures you intend to support. [See more](https://documentation.ubuntu.com/charmcraft/stable/howto/manage-resources/)
- Prefer lowercase alphanumeric names, and use hyphens (-) to separate words. For charms that have already standardised on underscores, it is not necessary to change them, and it is better to be consistent within a charm then to have some action names be dashed and some be underscored. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- Just like Juju, a charm is an opinionated tool. Configure the application with the best defaults (ideally the application is deployable without providing any configuration at deploy time), and only expose application configuration options when necessary. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- Prefer lowercase alphanumeric names, separated with dashes if required. For charms that have already standardised on underscores, it is not necessary to change them, and it is better to be consistent within a charm then to have some config names be dashed and some be underscored. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- For very complex applications, consider providing configuration profiles, which can group values for large configs together. For example, a ``profile: large`` that tweaks multiple options under the hood to optimize for larger deployments, or a ``profile: ci`` for limited resource usage during testing. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- Documentation links should apply to the charm, and not to the application that is being charmed. Assume that the user already has basic competency in the use of the application. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- The name should be slug-oriented (ASCII lowercase letters, numbers, and hyphens) and follow the pattern ``<workload name in full>[<function>][-k8s]``. For example, ``argo-server-k8s``. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
- Always include the ``optional`` key, rather than relying on the default value to indicate that the relation is required. Although this field is not enforced by Juju, including it makes it clear to users (and other tools) whether the relation is required. [See more](https://documentation.ubuntu.com/charmcraft/stable/reference/files/charmcraft-yaml-file/)
